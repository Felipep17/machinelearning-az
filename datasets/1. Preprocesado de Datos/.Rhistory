sd.plot()
View(sd)
sd.plot
#########
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
import matplotlib.pyplot as plt
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
%matplotlib notebook
reticulate::repl_python()
matplotlib notebook
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
#########
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
quit
library(reticulate)
reticulate::repl_python()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
reticulate::repl_python()
reticulate::repl_python()
#########
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
sd.show()
sd.plot()
sd.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
sd.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
plt.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.figure(figsize=(6,4))
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.figure(figsize=(6,4))
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.figure(figsize=(6,4))
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
plt.figure(figsize=(6,4))
sd.plot()
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.figure(figsize=(6,4))
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
fig.set_figheight(6)
fig = plt.figure()
fig.set_figheight(6)
fig.set_figwidth(8)
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
fig = plt.figure()
fig.set_figheight(6)
fig.set_figwidth(8)
plt.show()
sd.plot( markersize = 13))
sd.plot( markersize = 13)
sd.plot()
fig = plt.figure()
fig.set_figheight(6)
fig.set_figwidth(8)
plt.show()
sd.plot()
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
fig = sd.plot()
fig.set_size_inches((16, 9))
fig.tight_layout()
plt.show()
fig.set_size_inches((5, 5))
fig.tight_layout()
plt.show()
fig.set_size_inches((2, 5))
fig.tight_layout()
plt.show()
fig.set_size_inches((2, 10))
fig.tight_layout()
plt.show()
fig.set_size_inches((8, 8))
fig.tight_layout()
plt.show()
fig.set_size_inches((8, 4))
fig.tight_layout()
plt.show()
plt.rc("figure",figsize=(20,20))
sd = seasonal_decompose(train_autoarima['count'], model='add')
fig = sd.plot()
plt.show()
plt.rc("figure",figsize=(10,10,10,10))
plt.rc("figure",figsize=(10,10))
fig.set_size_inches((8, 4))
fig.tight_layout()
plt.show()
plt.rc("figure",figsize=(10,10))
sd = seasonal_decompose(train_autoarima['count'], model='add')
fig = sd.plot()
fig.tight_layout()
plt.show()
plt.rc("figure",figsize=(10,10))
sd = seasonal_decompose(train_autoarima['count'], model='add')
fig = sd.plot()
plt.show()
plt.rc("figure",figsize=(10,10))
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
plt.rc("figure",figsize=(3,8))
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
plt.rc("figure",figsize=(1,8))
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
plt.rc("figure",figsize=(1,8))
fig, (ax1,ax2,ax3) = plt.subplots(3,1, figsize=(15,8))
res.trend.plot(ax=ax1)
sd.trend.plot(ax=ax1)
plt.rc("figure",figsize=(1,8))
fig, (ax1,ax2,ax3) = plt.subplots(3,1, figsize=(15,8))
sd.trend.plot(ax=ax1)
sd.resid.plot(ax=ax2)
sd.seasonal.plot(ax=ax3)
sd = seasonal_decompose(train_autoarima['count'], model='add')
fig, (ax1,ax2,ax3) = plt.subplots(3,1, figsize=(15,8))
sd.trend.plot(ax=ax1)
sd.resid.plot(ax=ax2)
sd.seasonal.plot(ax=ax3)
sd.plot()
plt.show()
fig, (ax1,ax2,ax3) = plt.subplots(1,1, figsize=(15,8))
sd.trend.plot(ax=ax1)
fig, (ax1,ax2,ax3) = plt.subplots(3,1, figsize=(15,8))
fig, (ax1,ax2,ax3) = plt.subplots(3,1, figsize=(5,5))
sd.trend.plot(ax=ax1)
sd.resid.plot(ax=ax2)
sd.seasonal.plot(ax=ax3)
sd.plot()
plt.show()
plt.rc("figure",figsize=(1,8))
sd = seasonal_decompose(train_autoarima['count'], model='add')
plt.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
plt.rc("figure",figsize=(6,8))
sd = seasonal_decompose(train_autoarima['count'], model='add')
plt.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
plt.rc("figure",figsize=(6,8))
sd = seasonal_decompose(train_autoarima['count'], model='add')
plt.show()
plt.rc("figure",figsize=(1,8))
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
plot_pacf(train_autoarima['count'], lags = 11, zero = False, method = ('ols'))
plt.title("PACF", size = 10)
plt.show()
model_auto = auto_arima(train_autoarima)
model_auto.summary()
len(test_autoarima)
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (20,5), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 24)
plt.legend(['Predictions','Real'])
plt.show()
pred.plot(figsize = (14,8), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (14,8), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (14,8), color = "red")
plt.figure(figsize=(8,4), dpi=100)
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
plt.figure(figsize=(2,2), dpi=10000)
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
plt.figure(figsize=(2,2))
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (14,8), color = "red")
plt.figure(figsize=(2,2))
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
pred.plot(figsize = (10,10), color = "red")
plt.figure(figsize=(2,2))
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (10,10), color = "red")
plt.figure(figsize=(1000,2000))
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (10,10), color = "red")
plt.figure(figsize=(1000,2000))
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 12)
plt.legend(['Predictions','Real'])
plt.show()
import numpy as np
import pandas as pd
import scipy
import statsmodels.api as sm
import matplotlib.pyplot as plt
import sklearn
import seaborn as sns
import pandas as pd
import statsmodels.graphics.tsaplots as sgt
from statsmodels.graphics.tsaplots import plot_acf,plot_pacf
from statsmodels.tsa.seasonal import seasonal_decompose
import prophet
import warnings
from pmdarima.arima import auto_arima
from statsmodels.tsa.statespace.sarimax import SARIMAX
# Importar la base de datos
warnings.filterwarnings("ignore")
sns.set()
fichero="C:/Users/sebas/OneDrive/Escritorio/Códigos en R y Python/Series de Tiempo y Pronóstico/12. Prediciendo el futuro/Python/2005_2006_flights.csv"
fichero2= "C:/Users/sebas/OneDrive/Escritorio/Códigos en R y Python/Series de Tiempo y Pronóstico/12. Prediciendo el futuro/Python/2007_flights.csv"
# Creación dataframes
train = pd.read_csv(fichero)
test = pd.read_csv(fichero2)
train.head()
test.head()
# Test de entrenamiento
train_autoarima = train.copy()
test_autoarima = test.copy()
#
train_autoarima.year_month = pd.to_datetime(train_autoarima.year_month)
train_autoarima.set_index("year_month", inplace=True)
test_autoarima.year_month = pd.to_datetime(test_autoarima.year_month)
test_autoarima.set_index("year_month", inplace=True)
#########
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
plot_acf(train_autoarima['count'], lags = 23, zero = False)
plt.title("PACF", size = 24)
plt.show()
plot_pacf(train_autoarima['count'], lags = 11, zero = False, method = ('ols'))
plt.title("PACF", size = 10)
plt.show()
model_auto = auto_arima(train_autoarima)
model_auto.summary()
len(test_autoarima)
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (20,5), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 24)
plt.legend(['Predictions','Real'])
plt.show()
plt.title("Auto Arima", size = 10)
plt.legend(['Predictions','Real'])
plt.show()
model_auto = auto_arima(train_autoarima, start_p=1,start_q=1, max_p=12,max_q=12, max_order=None,start_P=1,start_Q=0,m=12,d=0,D=1)
model_auto.summary()
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (20,5), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 24)
plt.legend(['Predictions','Real'])
plt.show()
pred.plot(figsize = (20,5), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 24)
plt.legend(['Predictions','Real'])
plt.show()
model_auto = auto_arima(train_autoarima, start_p=1,start_q=1, max_p=12,max_q=12, max_order=None,start_P=1,start_Q=0,m=12,d=0,D=1)
model_auto.summary()
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (20,5), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 24)
plt.legend(['Predictions','Real'])
plt.show()
pred = pd.DataFrame(model_auto.predict(n_periods = len(test_autoarima)), index = test_autoarima.index)
pred.plot(figsize = (20,5), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("Auto Arima", size = 24)
plt.legend(['Predictions','Real'])
plt.show()
model_sarima = SARIMAX(train_autoarima, order = (1,0,0), seasonal_order = (1,1,1,12))
results_sarima = model_sarima.fit()
start_date='2007-01-01'
end_date='2007-12-01'
pred_sarima = results_sarima.predict(start = start_date, end = end_date)
pred_sarima.plot(figsize = (20,5), color = "red")
test_autoarima['count'].plot(color = "blue")
plt.title("SARIMA", size = 24)
plt.legend(['Predictions','Real'])
plt.show()
train.columns = ['ds','y']
train['ds'] = pd.to_datetime(train['ds'])
train.head(2)
test.year_month = pd.to_datetime(test.year_month)
test.set_index("year_month", inplace=True)
test.head(2)
m = Prophet()
import Prophet
import prophet
m = prophet()
m = prophet()
m.fit(train)
m = prophet()
from fbprophet import Prophet
import fbprophet
!pip install fbprophet
!pip install pystan==2.19.1.1 prophet
import prophet
reticulate::repl_python()
import numpy as np
import pandas as pd
import scipy
import statsmodels.api as sm
import matplotlib.pyplot as plt
import sklearn
import seaborn as sns
import pandas as pd
import statsmodels.graphics.tsaplots as sgt
from statsmodels.graphics.tsaplots import plot_acf,plot_pacf
from statsmodels.tsa.seasonal import seasonal_decompose
import prophet
import warnings
import prophet
from fbprophet import Prophet
from pmdarima.arima import auto_arima
from statsmodels.tsa.statespace.sarimax import SARIMAX
# Importar la base de datos
warnings.filterwarnings("ignore")
sns.set()
fichero="C:/Users/sebas/OneDrive/Escritorio/Códigos en R y Python/Series de Tiempo y Pronóstico/12. Prediciendo el futuro/Python/2005_2006_flights.csv"
fichero2= "C:/Users/sebas/OneDrive/Escritorio/Códigos en R y Python/Series de Tiempo y Pronóstico/12. Prediciendo el futuro/Python/2007_flights.csv"
# Creación dataframes
train = pd.read_csv(fichero)
test = pd.read_csv(fichero2)
train.head()
test.head()
# Test de entrenamiento
train_autoarima = train.copy()
test_autoarima = test.copy()
#
train_autoarima.year_month = pd.to_datetime(train_autoarima.year_month)
train_autoarima.set_index("year_month", inplace=True)
test_autoarima.year_month = pd.to_datetime(test_autoarima.year_month)
test_autoarima.set_index("year_month", inplace=True)
#########
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.plot()
plt.show()
sd.observed.plot(figsize=(12,2))
plt.show()
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd = seasonal_decompose(train_autoarima['count'], model='add')
sd.observed.plot(figsize=(12,2))
plt.show()
results = seasonal_decompose(train_autoarima['count'], model='add')
results.observed.plot(figsize=(12,2))
plt.show()
results.observed.plot(figsize=(12,2))
plt.show()
results = seasonal_decompose(train_autoarima['count'], model='add')
results.observed.plot(figsize=(12,2))
plt.show()
results.trend.plot(figsize=(12,2))
plt.show()
# Importando los datos
library(readr)
APTelectric <- read_csv("C:/Users/sebas/OneDrive/Escritorio/Códigos en R y Python/Series de Tiempo y Pronóstico/13. Redes Neuronales/R/APTelectricity.csv",
col_types = cols(X1 = col_skip()))
# Objeto ts
myts = ts(APTelectric$watt, frequency = 288)
# Objeto ts
myts = ts(APTelectric$watt, frequency = 288)
plot(myts,las=2)
# Ajuste del modelo
library(forecast)
fit = nnetar(myts)
# Predicciones
nnetforecast <- forecast(fit, h = 400, PI = F)
library(ggplot2)
autoplot(nnetforecast)
# Usando una variable ex?gena
fit2 = nnetar(myts, xreg = APTelectric$appliances)
# Definiendo los pron?sticos de la variable ex?gena para 10 horas
y =rep(2, times = 12*10)
nnetforecast <- forecast(fit2, xreg = y, PI = F)
autoplot(nnetforecast)
y
# Definiendo los pron?sticos de la variable ex?gena para 10 horas
y =rep(2, times = 12*10)
nnetforecast <- forecast(fit2, xreg = y, PI = F)
autoplot(nnetforecast)
# Definiendo los pron?sticos de la variable ex?gena para 30 horas
y =rep(2, times = 12*30)
nnetforecast <- forecast(fit2, xreg = y, PI = F)
autoplot(nnetforecast)
nnetforecast
# Definiendo los pron?sticos de la variable ex?gena para 10 horas
y =rep(2, times = 12*10)
nnetforecast <- forecast(fit2, xreg = y, PI = F)
autoplot(nnetforecast)
# Definiendo los pron?sticos de la variable ex?gena para 30 horas
y =rep(2, times = 12*30)
nnetforecast <- forecast(fit2, xreg = y, PI = F)
autoplot(nnetforecast)
# Definiendo los pron?sticos de la variable ex?gena para 30 horas
y =rep(4, times = 12*30)
nnetforecast <- forecast(fit2, xreg = y, PI = F)
autoplot(nnetforecast)
# Definiendo los pron?sticos de la variable ex?gena para 30 horas
y =rep(10, times = 12*30)
nnetforecast <- forecast(fit2, xreg = y, PI = F)
autoplot(nnetforecast)
# Definiendo los pron?sticos de la variable ex?gena para 30 horas
y =rep(2, times = 12*30)
nnetforecast <- forecast(fit2, xreg = y, PI = F)
autoplot(nnetforecast)
reticulate::repl_python()
import numpy as np
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
quit
setwd("C:/Users/sebas/OneDrive/Escritorio/Machine Learning/machinelearning-az/datasets/Part 1 - Data Preprocessing/Section 2 -------------------- Part 1 - Data Preprocessing --------------------")
reticulate::repl_python()
dataset = pd.read_csv('Data.csv') #Empieza en 0
X = dataset.iloc[:, :-1].values
View(dataset)
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
# Importar el data set
dataset = pd.read_csv('Data.csv') #Empieza en 0
X = dataset.iloc[:, :-1].values
y = dataset.iloc[:, 3].values
View(dataset)
